package com.jumbo.webservice.biaogan.clientNew;

/**
 * Please modify this class to meet your needs This class is not complete
 */

import java.net.URL;
import java.text.SimpleDateFormat;
import java.util.Date;

import javax.xml.namespace.QName;


import com.jumbo.mq.MarshallerUtil;
import com.jumbo.webservice.biaogan.clientNew.base.BMLQuery;
import com.jumbo.webservice.biaogan.clientNew.base.BMLQueryPortType;
import com.jumbo.webservice.biaogan.command.OrderCancelResponse;
import com.jumbo.webservice.biaogan.command.RtnOutBoundCommandList;

/**
 * This class was generated by Apache CXF 2.5.2 2012-03-19T12:59:29.306+08:00 Generated source
 * version: 2.5.2
 * 
 */
public final class PushExpressInfoPortTypeClientNew {

    private static final QName SERVICE_NAME = new QName("http://BML", "BMLQuery");

    private static final String USERNAME = "BZ_ALL";
    private static final String PASSWORD = "BML33570";

    private PushExpressInfoPortTypeClientNew() {}

    /**
     * 作业单查询
     * 
     * @param stacode
     */
    public static OrderCancelResponse orderQuery(String stacode) {
        URL wsdlURL = BMLQuery.WSDL_LOCATION;
        BMLQuery ss = new BMLQuery(wsdlURL, SERVICE_NAME);
        BMLQueryPortType port = ss.getBMLQueryHttpPort();
        java.lang.String _searchOrderStatus_in0 = USERNAME;
        java.lang.String _searchOrderStatus_in1 = PASSWORD;
        java.lang.String _searchOrderStatus_in2 = stacode;
        java.lang.String xml = port.searchOrderStatus(_searchOrderStatus_in0, _searchOrderStatus_in1, _searchOrderStatus_in2);
        OrderCancelResponse resp = (OrderCancelResponse) MarshallerUtil.buildJaxb(OrderCancelResponse.class, xml);
        return resp;
    }



    public static RtnOutBoundCommandList shipmentInfoQueryByDate() {
        URL wsdlURL = BMLQuery.WSDL_LOCATION;
        BMLQuery ss = new BMLQuery(wsdlURL, SERVICE_NAME);
        BMLQueryPortType port = ss.getBMLQueryHttpPort();
        java.lang.String _searchOrderStatus_in0 = USERNAME;
        java.lang.String _searchOrderStatus_in1 = PASSWORD;
        java.lang.String _searchOrderStatus_in2 = new SimpleDateFormat("yyyy-MM-dd").format(new Date());
        java.lang.String xml = null;
        int i = 5;
        do {
            try {
                xml = port.shipmentInfoQueryByDate(_searchOrderStatus_in0, _searchOrderStatus_in1, _searchOrderStatus_in2);
                i = 0;
            } catch (Exception e) {
                i--;
            }
        } while (i != 0);
        RtnOutBoundCommandList result = (RtnOutBoundCommandList) MarshallerUtil.buildJaxb(RtnOutBoundCommandList.class, xml);
        return result;
    }

    public static void main(String[] args) {
        RtnOutBoundCommandList result = shipmentInfoQueryByDate();
        System.out.println("----------" + result);
        OrderCancelResponse r = orderQuery("S120400060820");
        System.out.println(r.getCode());
        System.out.println(r.getSuccess());
    }

}
